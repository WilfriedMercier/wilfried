
<!DOCTYPE html>

<html lang="en">
<head>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta charset="utf-8"/>
<meta content="Docutils 0.17.1: http://docutils.sourceforge.net/" name="generator"/>
<title>Galfit auto-routines | wilfried library 1.0 documentation</title>
<link href="../_static/pygments.css" rel="stylesheet"/>
<link href="../_static/theme.313ea551d1799b2102b1.css" rel="stylesheet"/>
<link href="../_static/plot_directive.css" rel="stylesheet"/>
<link href="../_static/copybutton.css" rel="stylesheet"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="models.html" rel="next" title="Galfit models"/>
<link href="index.html" rel="prev" title="Galfit module"/>
</head>
<body class="antialiased text-gray">
<div class="h-screen xl:grid xl:grid-layout" data-action="keydown@window-&gt;search#focus" data-controller="sidebar search" id="page">
<a class="block text-xl bg-white py-4 z-20 absolute top-0 h-18 inset-x-0 text-center transform -translate-y-full focus:translate-y-0 focus:outline-none transition-transform duration-75" href="#galfit-auto-routines" title="Skip navigation links">Skip to content</a>
<header class="grid-area-header z-10 h-14 sm:h-18">
<div class="bg-gray-dark shadow-md flex items-center h-full xl:px-2 relative"><div class="flex items-center">
<button class="xl:hidden h-14 w-14 sm:h-18 sm:w-18 leading-14 sm:leading-18 text-gray-100 hover:bg-gray-700 hover:text-brand focus:outline-none focus:bg-gray-700 focus:text-brand" data-action="sidebar#open" data-sidebar-target="hamburger">
<span class="sr-only">Open navigation menu</span>
<svg aria-hidden="true" class="fill-current h-8 w-8" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg>
</button><a aria-label="Back to homepage" class="hover:bg-gray-700 focus:bg-gray-700 focus:outline-none tooltipped tooltipped-sw" href="../index.html"><span class="hidden lg:inline-block shrink-0 font-medium text-gray-100 mx-5 leading-14 sm:leading-18 tracking-wider">wilfried library 1.0 documentation</span>
</a></div><div class="flex justify-end items-center flex-1"><form action="../search.html" class="flex print:hidden justify-between items-center leading-14 sm:leading-18 md:ml-4 bg-gray-dark text-gray-300 focus-within:bg-gray-50 focus-within:text-gray-800 focus-within:absolute focus-within:inset-x-0 focus-within:top-0 md:focus-within:w-full md:focus-within:static" data-action="click-&gt;search#focusSearchInput" id="searchbox" method="get">
<button aria-label="Get search results" class="text-inherit h-14 w-14 sm:h-18 sm:w-18" tabindex="-1">
<svg aria-hidden="true" class="fill-current stroke-current h-8 w-8" stroke-width="0.5" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg>
</button>
<input aria-label="Search the docs" class="pr-2 bg-transparent text-inherit focus:outline-none w-0 md:w-auto focus:w-full transition-all duration-100" data-search-target="searchInput" id="search-input" name="q" placeholder="Search the docs" type="search"/>
</form></div>
</div>
</header>
<aside class="grid-area-sidebar h-full fixed xl:relative inset-y-0 left-0 z-20 xl:z-0 print:hidden overflow-y-auto transition-all transform transform-gpu -translate-x-full opacity-0 duration-300 xl:translate-x-0 xl:opacity-100" data-sidebar-target="sidebar">
<nav class="h-full overflow-y-auto bg-white text-gray-600 pt-8 flex flex-col" role="navigation">
<div class="nav-toc flex-1 pl-6"><ul class="current">
<li class="toctree-l1"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../dependencies.html">Required dependencies</a></div></li>
<li class="toctree-l1"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../makeLifeSimpler.html">makeLifeSimpler</a></div></li>
<li class="toctree-l1"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/index.html">Useful utilities</a></div><ul>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/coloredMessages.html">Colored messages</a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/coloredMessages.html#list-of-available-functions">List of available functions</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/coloredMessages.html#example">Example</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/coloredMessages.html#module-utilities.coloredMessages">Documentation</a></div></li>
</ul>
</li>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/dict.html">Dictionaries</a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/dict.html#list-of-available-functions">List of available functions</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/dict.html#examples">Examples</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/dict.html#module-utilities.dictionaries">Documentation</a></div></li>
</ul>
</li>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/io.html">Input/Output</a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/io.html#list-of-available-functions">List of available functions</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/io.html#examples">Examples</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/io.html#module-utilities.io">Documentation</a></div></li>
</ul>
</li>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/list.html">List manipulations</a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/list.html#list-of-available-functions">List of available functions</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/list.html#examples">Examples</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/list.html#module-utilities.lists">Documentation</a></div></li>
</ul>
</li>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/strings.html">Strings manipulation</a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/strings.html#list-of-available-functions">List of available functions</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/strings.html#examples">Examples</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/strings.html#module-utilities.strings">Documentation</a></div></li>
</ul>
</li>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/plotUtilities/index.html">Plot utilities</a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/plotUtilities/asManyHists.html">Histograms</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/plotUtilities/hst.html">Galfit related plots</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/plotUtilities/misc.html">Miscellaneous</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../utilities/plotUtilities/singleContour.html">Contours</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="../galaxy/index.html">Galaxy module</a></div><ul>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../galaxy/angularMomentum.html">Galaxies angular momentum</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../galaxy/cosmology.html">Cosmology computations</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../galaxy/geometry.html">Galaxies angular momentum</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../galaxy/kinematics.html">Galaxy kinematics</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../galaxy/misc.html">Miscellaneous</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../galaxy/massModels.html">Galaxy mass models</a></div></li>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="../galaxy/models.html">Galaxy models</a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../galaxy/models.html#d-profiles">1D profiles</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../galaxy/models.html#id1">2D profiles</a></div></li>
</ul>
</li>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="../galaxy/morphology/index.html">Galaxies morphology</a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../galaxy/morphology/index.html#functions-are-split-into-the-following-modules">Functions are split into the following modules:</a></div></li>
</ul>
</li>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="../galaxy/photometry/index.html">Galaxies photometry</a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="../galaxy/photometry/index.html#functions-are-split-into-the-following-modules">Functions are split into the following modules:</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current expanded"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="index.html">Galfit module</a></div><ul class="current">
<li class="toctree-l2 current expanded"><div class="nav-link"><a class="current reference internal" data-action="click-&gt;sidebar#close" href="#">Galfit auto-routines</a></div></li>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="models.html">Galfit models</a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="models.html#miscellaneous">Miscellaneous</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="models.html#galfit-profiles">Galfit profiles</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="models.html#galfit-additional-tags">Galfit additional tags</a></div></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<button class="text-4xl text-gray-800 p-4 bottom-0 hover:text-brand xl:hidden focus:text-brand self-center" data-action="" title="Close navigation menu">
<span class="sr-only">Close navigation menu</span>
<svg aria-hidden="true" class="fill-current stroke-current h-6 w-6" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</aside>
<main class="px-10 xl:ml-fluid grid-area-main overflow-y-auto flex flex-col h-full mx-0 md:mx-auto xl:mr-0" data-action="scroll-&gt;scroll#showButton" data-controller="scroll"><nav aria-label="breadcrumbs" class="print:hidden mt-12 text-sm text-gray-light" role="navigation">
<a class="text-gray-light text-sm hover:text-gray-dark font-medium focus:text-gray-dark" href="../index.html">wilfried library 1.0 documentation</a>
<span class="mr-1">/</span><a class="text-gray-light text-sm hover:text-gray-dark" href="index.html">Galfit module</a>
<span class="mr-1">/</span><span aria-current="page">Galfit auto-routines</span>
</nav>
<article class="flex-1" role="main">
<section id="module-galfit.galfit">
<span id="galfit-auto-routines"></span><h1>Galfit auto-routines<a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#module-galfit.galfit">¶</a></h1>
<p><em>Code author: Wilfried Mercier - IRAP &lt;<a class="reference external" href="mailto:wilfried.mercier%40irap.omp.eu" rel="nofollow noopener">wilfried<span>.</span>mercier<span>@</span>irap<span>.</span>omp<span>.</span>eu<svg aria-hidden="true" class="external-link-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></svg></a>&gt;</em></p>
<p>Functions related to automating galfit modelling.</p>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="galfit.galfit.genConstraint">
<code class="sig-prename descclassname">galfit.galfit.</code><code class="sig-name descname">genConstraint</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dicts</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/galfit/galfit.html#genConstraint"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#galfit.galfit.genConstraint">¶</a></dt>
<dd>
<p><em>Code author: Wilfried Mercier - IRAP &lt;<a class="reference external" href="mailto:wilfried.mercier%40irap.omp.eu" rel="nofollow noopener">wilfried<span>.</span>mercier<span>@</span>irap<span>.</span>omp<span>.</span>eu<svg aria-hidden="true" class="external-link-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></svg></a>&gt;</em></p>
<p>Make a galfit CONSTRAINT file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>constraintNames</strong> (<em>list</em><em>[</em><em>dict</em><em>]</em>) – list of constraint dictionaries. <strong>See</strong> <a class="reference internal" href="#galfit.galfit.run_galfit" title="galfit.galfit.run_galfit"><code class="xref py py-func docutils literal notranslate">run_galfit()</code></a> <strong>for more information</strong>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>CONSTRAINT file as formatted text</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – <ul>
<li><p>if <strong>dicts</strong> is not a list</p></li>
<li><p>if ‘type’ key in constraint dict is not an acceptable value</p></li>
<li><p>if ‘components’ key in one of the dict is not a list</p></li>
<li><p>if ‘value’ key in one of the dict is not a list</p></li>
</ul>
</p></li>
<li><p><strong>KeyError</strong> – if neither ‘parameter’, nor ‘constraints’, nor ‘components’ keys are found in the dictionaries</p></li>
<li><p><strong>ValueError</strong> – <ul>
<li><p>if ‘parameter’ key in one of the dict is not an acceptable value</p></li>
<li><p>if ‘components’ key in one of the dict does not have the correct length</p></li>
<li><p>if ‘type’ key in one of the dict does not have the correct length</p></li>
</ul>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="galfit.galfit.genFeedme">
<code class="sig-prename descclassname">galfit.galfit.</code><code class="sig-name descname">genFeedme</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">header</span></em>, <em class="sig-param"><span class="n">listProfiles</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/galfit/galfit.html#genFeedme"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#galfit.galfit.genFeedme">¶</a></dt>
<dd>
<p><em>Code author: Wilfried Mercier - IRAP &lt;<a class="reference external" href="mailto:wilfried.mercier%40irap.omp.eu" rel="nofollow noopener">wilfried<span>.</span>mercier<span>@</span>irap<span>.</span>omp<span>.</span>eu<svg aria-hidden="true" class="external-link-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></svg></a>&gt;</em></p>
<p>Make a galfit FEEDME configuration file using the given profiles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>header</strong> (<em>dict</em>) – (<strong>Optional</strong>) dictionnary with key names corresponding to input parameter names in :py:func:genHeader function</p></li>
<li><p><strong>listProfiles</strong> (<em>list</em><em>[</em><em>dict</em><em>]</em>) – (<strong>Optional</strong>) list of profiles (models). <strong>See</strong> <a class="reference internal" href="#galfit.galfit.run_galfit" title="galfit.galfit.run_galfit"><code class="xref py py-func docutils literal notranslate">run_galfit()</code></a> <strong>for more information</strong>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FEEDME configuration file with header and body as formatted text</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – if ‘name’ key in one of the profiles is not an acceptable value</p></li>
<li><p><strong>KeyError</strong> – if ‘name’ key is missing in one of the profiles</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="galfit.galfit.genHeader">
<code class="sig-prename descclassname">galfit.galfit.</code><code class="sig-name descname">genHeader</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inputImage</span><span class="o">=</span><span class="default_value">'none'</span></em>, <em class="sig-param"><span class="n">outputImage</span><span class="o">=</span><span class="default_value">'output.fits'</span></em>, <em class="sig-param"><span class="n">sigmaImage</span><span class="o">=</span><span class="default_value">'none'</span></em>, <em class="sig-param"><span class="n">psfImage</span><span class="o">=</span><span class="default_value">'none'</span></em>, <em class="sig-param"><span class="n">maskImage</span><span class="o">=</span><span class="default_value">'none'</span></em>, <em class="sig-param"><span class="n">couplingFile</span><span class="o">=</span><span class="default_value">'none'</span></em>, <em class="sig-param"><span class="n">xmin</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">xmax</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">ymin</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">ymax</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">sizeConvX</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sizeConvY</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">psfSamplingFactor</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">zeroPointMag</span><span class="o">=</span><span class="default_value">30.0</span></em>, <em class="sig-param"><span class="n">arcsecPerPixel</span><span class="o">=</span><span class="default_value">[0.03, 0.03]</span></em>, <em class="sig-param"><span class="n">displayType</span><span class="o">=</span><span class="default_value">'regular'</span></em>, <em class="sig-param"><span class="n">option</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/galfit/galfit.html#genHeader"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#galfit.galfit.genHeader">¶</a></dt>
<dd>
<p><em>Code author: Wilfried Mercier - IRAP &lt;<a class="reference external" href="mailto:wilfried.mercier%40irap.omp.eu" rel="nofollow noopener">wilfried<span>.</span>mercier<span>@</span>irap<span>.</span>omp<span>.</span>eu<svg aria-hidden="true" class="external-link-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></svg></a>&gt;</em></p>
<p>Constructs a galfit FEEDME header as general as possible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputImage</strong> (<em>str</em>) – <p>name of the input .fits file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If “none” is given, when running the feedme file, the fitting will be skipped and a model will be generated using the provided parameters.</p>
</div>
</p></li>
<li><p><strong>outputImage</strong> (<em>str</em>) – <p>name of the file within which the image will be stored.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Technically, the output “image” is not an image but a (1+3)D fits file, where:</p>
<blockquote>
<div><ul>
<li><p>layer 0 is a blank image whose header contains the fits keys</p></li>
<li><p>layer 1 is the original image within the fitting region</p></li>
<li><p>layer 2 is the model image</p></li>
<li><p>layer 3 is the residual between the model and the original image.</p></li>
</ul>
</div></blockquote>
<p>The residual is computed by subtracting layer 2 from layer 1.</p>
<p>Hence, if any galaxy component is missing in the model image (even if it was optimised), the residual will not reflect the “fitness” of fit.</p>
</div>
</p></li>
<li><p><strong>xmax</strong> (<em>int</em>) – maximum x coordinate of the fitting region box (in pixel)</p></li>
<li><p><strong>xmin</strong> (<em>int</em>) – minimum x coordinate of the fitting region box (in pixel)</p></li>
<li><p><strong>ymax</strong> (<em>int</em>) – maximum y coordinate of the fitting region box (in pixel)</p></li>
<li><p><strong>ymin</strong> (<em>int</em>) – minimum y coordinate of the fitting region box (in pixel)</p></li>
<li><p><strong>arcsecPerPixel</strong> (<em>[</em><em>float</em><em>, </em><em>float</em><em>]</em>) – (<strong>Optional</strong>) angular resolution (in arcsec) of image pixels. First element is the angular resolution in the x direction, second element in the y direction.</p></li>
<li><p><strong>displayType</strong> (<em>"regular"</em><em>, </em><em>"both"</em><em> or </em><em>"curses"</em>) – <p>(<strong>Optional</strong>) galfit display mode</p>
<ul>
<li><p>”Regular” mode does not allow any interaction</p></li>
<li><p>”Both” and “curses” modes allow you to interact with galfit during the fitting routine (both will display a xterm terminal).</p></li>
</ul>
</p></li>
<li><p><strong>couplingFile</strong> (<em>str</em>) – name of the CONSTRAINT file used to add constraints on parameters</p></li>
<li><p><strong>maskImage</strong> (<em>str</em>) – <p>name of the image with bad pixels masked. Possible options are:</p>
<ul>
<li><p>a .fits file (with the same dimensions as the input image) with a value of 0 for good pixels and &gt;0 for bad pixels</p></li>
<li><p>an ASCII file with two columns separated by a blank space (first column x coordinate, second y coordinate) listing all the bad pixels locations</p></li>
</ul>
</p></li>
<li><p><strong>option</strong> (<em>int</em>) – <p>option</p>
<ul>
<li><p>if 0, galfit run normally as explained above</p></li>
<li><p>if 1, the model image only is made using the given parameters</p></li>
<li><p>if 2, an image block (data, model and residual) is made using the given parameters</p></li>
<li><p>if 3, an image block with the first slice beeing the data, and the followings ones beeing one (best-fit) component per slice</p></li>
</ul>
</p></li>
<li><p><strong>psfImage</strong> (<em>str</em>) – name of the psf image (fits file)</p></li>
<li><p><strong>psfSamplingFactor</strong> (<em>int</em>) – multiplicative factor used to scale the image pixel angular scale to the psf pixel angular scale if the psf is oversampled. Technically it is the ratio between the psf platescale (in arcsec/px) and the data platescale assuming the same seeing.</p></li>
<li><p><strong>sigmaImage</strong> (<em>str</em>) – name of the so called variance map (technically standard deviation map) where the value of the standard deviation of the underlying distribution of a pixel is given in place of the pixel value in the image (fits file only). If “none”, galfit will compute one.</p></li>
<li><p><strong>sizeConvX</strong> (<em>int</em>) – x size of the convolution box (in px)</p></li>
<li><p><strong>sizeConvY</strong> (<em>int</em>) – y size of the convolution box (in px)</p></li>
<li><p><strong>zeroPointMag</strong> (<em>float</em>) – <p>zero point magnitude used in the definition</p>
<div class="math">
<p><img alt="m = -2.5 \log_{10} ({\rm{ADU}}/t_{\rm{exp}}) + {\rm{zeropoint}}," src="../_images/math/6ab824be1392bd070581f9528564f3a9f56e548f.png"/></p>
</div><p>where <img alt="t_{\rm{exp}}" class="math" src="../_images/math/8e9cca92ac22040cb2a16184a22c9442b4ea8c95.png"/> if the exposition time (generally found in the input .fits file header).</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>header as a formatted string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="py data code-definition">
<dt class="sig sig-object py" id="galfit.galfit.modelFunctions">
<code class="sig-prename descclassname">galfit.galfit.</code><code class="sig-name descname">modelFunctions</code><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>{'bending': &lt;function bendingModes&gt;, 'boxyness': &lt;function boxy_diskyness&gt;, 'deVaucouleur': &lt;function gendeVaucouleur&gt;, 'edgeOnDisk': &lt;function genEdgeOnDisk&gt;, 'expDisk': &lt;function genExpDisk&gt;, 'ferrer': &lt;function genFerrer&gt;, 'fourier': &lt;function fourierModes&gt;, 'gaussian': &lt;function genGaussian&gt;, 'king': &lt;function genKing&gt;, 'moffat': &lt;function genMoffat&gt;, 'nuker': &lt;function genNuker&gt;, 'psf': &lt;function genPSF&gt;, 'sersic': &lt;function genSersic&gt;, 'sky': &lt;function genSky&gt;}</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#galfit.galfit.modelFunctions">¶</a></dt>
<dd>
<p>Recognised models</p>
</dd></dl>
<dl class="py data code-definition">
<dt class="sig sig-object py" id="galfit.galfit.myPDFViewer">
<code class="sig-prename descclassname">galfit.galfit.</code><code class="sig-name descname">myPDFViewer</code><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>'okular'</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#galfit.galfit.myPDFViewer">¶</a></dt>
<dd>
<p>Default pdf viewer</p>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="galfit.galfit.run_galfit">
<code class="sig-prename descclassname">galfit.galfit.</code><code class="sig-name descname">run_galfit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">feedmeFiles</span></em>, <em class="sig-param"><span class="n">header</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">listProfiles</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">inputNames</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">outputNames</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">constraintNames</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">pathFeedme</span><span class="o">=</span><span class="default_value">'./feedme/'</span></em>, <em class="sig-param"><span class="n">pathIn</span><span class="o">=</span><span class="default_value">'./inputs/'</span></em>, <em class="sig-param"><span class="n">pathOut</span><span class="o">=</span><span class="default_value">'./outputs/'</span></em>, <em class="sig-param"><span class="n">pathConstraints</span><span class="o">=</span><span class="default_value">'./constraints/'</span></em>, <em class="sig-param"><span class="n">pathLog</span><span class="o">=</span><span class="default_value">'./log/'</span></em>, <em class="sig-param"><span class="n">pathRecap</span><span class="o">=</span><span class="default_value">'./recap/'</span></em>, <em class="sig-param"><span class="n">constraints</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">forceConfig</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">noGalfit</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">noPDF</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">showRecapFiles</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">showLog</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">divergingNorm</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">numThreads</span><span class="o">=</span><span class="default_value">8</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/galfit/galfit.html#run_galfit"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#galfit.galfit.run_galfit">¶</a></dt>
<dd>
<p><em>Code author: Wilfried Mercier - IRAP &lt;<a class="reference external" href="mailto:wilfried.mercier%40irap.omp.eu" rel="nofollow noopener">wilfried<span>.</span>mercier<span>@</span>irap<span>.</span>omp<span>.</span>eu<svg aria-hidden="true" class="external-link-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></svg></a>&gt;</em></p>
<p>Run GALFIT given some models and a header. If necessary, it creates GALFIT config files.</p>
<p>If the FEEDME and CONSTRAINT files already exist, just use the following command to run GALFIT on all the galaxies</p>
<div class="code-wrapper" data-controller="code">
<div class="code-header">
<span class="code-lang">python</span></div>
<div class="highlight"><pre><code><span class="gp">&gt;&gt;&gt; </span><span class="n">run_galfit</span><span class="p">(</span><span class="n">yourList</span><span class="p">)</span>
</code></pre></div></div>
<p>where yourList is a list of FEEDME files.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If at least one FEEDME file does not exist, the following information must be provided</p>
<ul class="simple">
<li><p>a header</p></li>
<li><p>a list of profiles (models)</p></li>
<li><p>input (HST) file names</p></li>
</ul>
<p><strong>See</strong> <a class="reference internal" href="#galfit.galfit.writeConfigs" title="galfit.galfit.writeConfigs"><code class="xref py py-func docutils literal notranslate">writeConfigs()</code></a> <strong>function for more information.</strong></p>
<p>Using the correct optional arguments, one can <strong>skip</strong> the following steps:</p>
<ul class="simple">
<li><p>FEEDME and CONSTRAINT files creation by setting <strong>forceConfig</strong> to False. This is done by default in order to avoid to destroy already existing input files.</p></li>
<li><p>GALFIT modelling by setting <strong>noGalfit</strong> to True. This can be useful if one only wants to make the pdf recap files when the modelling has already been done.</p></li>
<li><p>generating pdf recap files at the end of the program by setting <strong>noPDF</strong> to True</p></li>
<li><p>opening of the recap files at the end of the program by setting <strong>showRecapFiles</strong> to False</p></li>
<li><p>showing the content of the LOG file once the fit is complete by setting <strong>showLog</strong> to False. By default, LOG files are not shown.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feedmeFiles</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – name of the GALFIT FILES to run galfit onto</p></li>
<li><p><strong>divergingNorm</strong> (<em>bool</em>) – (<strong>Optional</strong>) whether to use a diverging norm in the output pdf figure or not</p></li>
<li><p><strong>constraints</strong> (<em>list</em><em>[</em><em>dict</em><em>]</em>) – <p>(<strong>Optional</strong>)</p>
<p>list of dictionaries used to generate the constraints. If None, no constraints are applied.</p>
<p>Each dictionary must contain three keys, namely ‘components’, ‘parameter’ and ‘constraint’ (see below for use cases):</p>
<ul>
<li><p>’constraint’ : dict with keys ‘type’ and ‘value’</p>
<blockquote>
<div><p>This sets the type of constraint one wants and its range. The possible ‘type’ of constraints are:</p>
<ul class="simple">
<li><p>’offset’ to set the value of some parameter between different profiles relative to one another (based on the initial values provided in the FEEDME file)</p></li>
<li><p>’ratio’ to fix the ratio of some parameter between different profiles (based on the initial values provided in the FEEDME file)</p></li>
<li><p>’absoluteRange’ to set an asbolute range of values for some parameter</p></li>
<li><p>’relativeRange’ to set a range of possible values around the initial value given in the FEEDME file</p></li>
<li><p>’componentWiseRange’ to set a range of possible values around the initial value of the same parameter but from another component</p></li>
<li><p>’componentWiseRatio’ to set a range of possible values for the ratio of the same parameter in two components</p></li>
</ul>
<p>And the corresponding values are:</p>
<ul class="simple">
<li><p>single value for ‘offset’ and ‘ratio’ types</p></li>
<li><p>a list of two floats to define bounds for the other types</p></li>
</ul>
</div></blockquote>
</li>
<li><p>’components’ : int or list[int]</p>
<blockquote>
<div><p>The number(s) associated to the model(s) one wants to constrain:</p>
<ul class="simple">
<li><p>for ‘offset’ and ‘ratio’ types a list of an indefinite number of int can be given</p></li>
<li><p>for both relative and absolute ranges, a single profile number (int) must be given</p></li>
<li><p>for component wise ranges or ratios, a list of two numbers (int) must be provided</p></li>
</ul>
</div></blockquote>
</li>
<li><p>’parameter’ : str</p>
<blockquote>
<div><p>Name of the parameter to contrain.</p>
</div></blockquote>
</li>
</ul>
<p class="rubric"><strong>Example</strong></p>
<p>Let us assume we want to model two Sersic components such that we have <code class="samp docutils literal notranslate">listProfiles=[sersic1, sersic2]</code> where</p>
<div class="code-wrapper" data-controller="code">
<div class="code-header">
<span class="code-lang">python</span></div>
<div class="highlight"><pre><code><span class="gp">&gt;&gt;&gt; </span><span class="n">sersic1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span><span class="s1">'sersic'</span><span class="p">,</span> <span class="s1">'x'</span><span class="p">:</span><span class="mi">81</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span> <span class="s1">'n'</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'fixedParams'</span><span class="p">:[</span><span class="s1">'n'</span><span class="p">],</span>                 <span class="s1">'re'</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="s1">'mag'</span><span class="p">:</span><span class="mi">25</span><span class="p">,</span> <span class="s1">'PA'</span><span class="p">:</span><span class="mi">40</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sersic2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span><span class="s1">'sersic'</span><span class="p">,</span> <span class="s1">'x'</span><span class="p">:</span><span class="mi">81</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span> <span class="s1">'n'</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="s1">'fixedParams'</span><span class="p">:[</span><span class="s1">'n'</span><span class="p">,</span> <span class="s1">'PA'</span><span class="p">,</span> <span class="s1">'bOvera'</span><span class="p">],</span> <span class="s1">'re'</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>  <span class="s1">'mag'</span><span class="p">:</span><span class="mi">25</span><span class="p">}</span>
</code></pre></div></div>
<p>Assume we want to constrain the X coordinate of <code class="samp docutils literal notranslate">sersic1</code> and <code class="samp docutils literal notranslate">sersic2</code> to always be similar, then we can do</p>
<div class="code-wrapper" data-controller="code">
<div class="code-header">
<span class="code-lang">python</span></div>
<div class="highlight"><pre><code><span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'components'</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">'parameter'</span><span class="p">:</span><span class="s1">'x'</span><span class="p">,</span> <span class="s1">'constraint'</span><span class="p">:{</span><span class="s1">'type'</span><span class="p">:</span><span class="s1">'offset'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">:</span><span class="mf">0.0</span><span class="p">}}</span>
</code></pre></div></div>
<p>Similarly, for the Y coordinate, we can do</p>
<div class="code-wrapper" data-controller="code">
<div class="code-header">
<span class="code-lang">python</span></div>
<div class="highlight"><pre><code><span class="gp">&gt;&gt;&gt; </span><span class="n">c2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'components'</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">'parameter'</span><span class="p">:</span><span class="s1">'y'</span><span class="p">,</span> <span class="s1">'constraint'</span><span class="p">:{</span><span class="s1">'type'</span><span class="p">:</span><span class="s1">'offset'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">:</span><span class="mf">0.0</span><span class="p">}}</span>
</code></pre></div></div>
<p>In both cases, the number 1 refers to the first model appearing in listProfiles (i.e. <code class="samp docutils literal notranslate">sersic1</code>), and the number 2 to <code class="samp docutils literal notranslate">sersic2</code>.</p>
<p>Additionnaly, let us say we want to force the X and Y coordinates to be allowed to change by <img alt="\pm 10" class="math" src="../_images/math/f414ede1ddcc9a15dba07e006ab8321ca8dfd515.png"/> relative to the initial value. This can be done with</p>
<div class="code-wrapper" data-controller="code">
<div class="code-header">
<span class="code-lang">python</span></div>
<div class="highlight"><pre><code><span class="gp">&gt;&gt;&gt; </span><span class="n">c3</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'components'</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'parameter'</span><span class="p">:</span><span class="s1">'x'</span><span class="p">,</span> <span class="s1">'constraint'</span><span class="p">:{</span><span class="s1">'type'</span><span class="p">:</span><span class="s1">'relativeRange'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">:[</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">]}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c4</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'components'</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'parameter'</span><span class="p">:</span><span class="s1">'y'</span><span class="p">,</span> <span class="s1">'constraint'</span><span class="p">:{</span><span class="s1">'type'</span><span class="p">:</span><span class="s1">'relativeRange'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">:[</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">]}}</span>
</code></pre></div></div>
<p>Now, it still remains to build the constraint list, so that we write</p>
<div class="code-wrapper" data-controller="code">
<div class="code-header">
<span class="code-lang">python</span></div>
<div class="highlight"><pre><code><span class="gp">&gt;&gt;&gt; </span><span class="n">constraint</span> <span class="o">=</span> <span class="p">[</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">,</span> <span class="n">c3</span><span class="p">,</span> <span class="n">c4</span><span class="p">]</span>
</code></pre></div></div>
<p>And we provide <code class="samp docutils literal notranslate">constraints=constraint</code> when calling <a class="reference internal" href="#galfit.galfit.run_galfit" title="galfit.galfit.run_galfit"><code class="xref py py-func docutils literal notranslate">run_galfit()</code></a>.</p>
</p></li>
<li><p><strong>forceConfig</strong> (<em>bool</em>) – (<strong>Optional</strong>) whether to make all the configuration files no matter if they exist or not</p></li>
<li><p><strong>header</strong> (<em>dict</em>) – <p>(<strong>Optional</strong>) dictionnary with key names corresponding to input parameter names in <a class="reference internal" href="#galfit.galfit.genHeader" title="galfit.galfit.genHeader"><code class="xref py py-func docutils literal notranslate">genHeader()</code></a> function</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You do not need to provide an input and an output image files as this is given with the inputNames keyword.</p>
</div>
</p></li>
<li><p><strong>inputNames</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – (<strong>Optional</strong>) list of galaxies input .fits files</p></li>
<li><p><strong>listProfiles</strong> (<em>list</em><em>[</em><em>dict</em><em>]</em>) – <p>(<strong>Optional</strong>) list of profiles (models). Each dictionnary corresponds to a profile:</p>
<ul>
<li><p>A key ‘name’ is mandatory to indentify the profile. Its value is one of the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>’deVaucouleur’ for a de Vaucouleur profile</p></li>
<li><p>’edgeOnDisk’ for an edge-on (razor-thin) disk</p></li>
<li><p>’expDisk’ for an exponential disk</p></li>
<li><p>’ferrer’ for a Ferrer profile</p></li>
<li><p>’gaussian’ for a Gaussian</p></li>
<li><p>’king’ for a King profile</p></li>
<li><p>’moffat’ for a Moffat profile</p></li>
<li><p>’nuker’ for a Nuker profile</p></li>
<li><p>’psf’</p></li>
<li><p>’sersic’ for a Sersic profile</p></li>
<li><p>’sky’ for a sky gradient</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Other keys correspond to the parameters corresponding to each profile. <strong>See each profile description, to know which key to use</strong>. Only mandatory parameters can be provided as keys if the default values seem fine to you</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can also add fourier modes, bending modes and/or a boxyness-diskyness parameter to each profile. To do so, provide one of the following keys:</p>
<ul>
<li><p>’fourier’</p></li>
<li><p>’bending’</p></li>
<li><p>’boxyness’</p></li>
</ul>
<p>These keys must also contain dictionnaries whose keys are the parameters of the functions <code class="xref py py-func docutils literal notranslate">fourierModes()</code>, <code class="xref py py-func docutils literal notranslate">bendingModes()</code> and <code class="xref py py-func docutils literal notranslate">boxy_diskyness()</code>.</p>
</div>
<p class="rubric"><strong>Example</strong></p>
<p>Let us assume we want to model two Sersic components such that we have <code class="samp docutils literal notranslate">listProfiles=[sersic1, sersic2]</code>, where <code class="samp docutils literal notranslate">sersic1</code> is an exponential disk (Sersic with n=1), and <code class="samp docutils literal notranslate">sersic2</code> is a de Vaucouleurs bulge (Sersic n=4) with fixed axis ratio and PA.</p>
<p>If we look at the function declaration for the <code class="xref py py-func docutils literal notranslate">genSersic()</code> function we find the following parameters</p>
<div class="code-wrapper" data-controller="code">
<div class="code-header">
<span class="code-lang">python</span></div>
<div class="highlight"><pre><code><span class="k">def</span> <span class="nf">genSersic</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">mag</span><span class="o">=</span><span class="mf">25.0</span><span class="p">,</span> <span class="n">re</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">bOvera</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">PA</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">skipComponentInResidual</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fixedParams</span><span class="o">=</span><span class="p">[],</span> <span class="n">comments</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">noComments</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</code></pre></div></div>
<p>For the exponential disk, we only need the Sersic index to be fixed, and we can plug typical values for the other parameters</p>
<div class="code-wrapper" data-controller="code">
<div class="code-header">
<span class="code-lang">python</span></div>
<div class="highlight"><pre><code><span class="gp">&gt;&gt;&gt; </span><span class="n">sersic1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span><span class="s1">'sersic'</span><span class="p">,</span> <span class="s1">'x'</span><span class="p">:</span><span class="mi">81</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span> <span class="s1">'n'</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'fixedParams'</span><span class="p">:[</span><span class="s1">'n'</span><span class="p">],</span> <span class="s1">'re'</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="s1">'mag'</span><span class="p">:</span><span class="mi">25</span><span class="p">,</span> <span class="s1">'PA'</span><span class="p">:</span><span class="mi">40</span><span class="p">}</span>
</code></pre></div></div>
<p>For the de Vaucouleur bulge, we use the same centre, a slightly smaller bulge, and we also fix the <code class="samp docutils literal notranslate">PA</code> and <code class="samp docutils literal notranslate">bOvera</code></p>
<div class="code-wrapper" data-controller="code">
<div class="code-header">
<span class="code-lang">python</span></div>
<div class="highlight"><pre><code><span class="gp">&gt;&gt;&gt; </span><span class="n">sersic2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span><span class="s1">'sersic'</span><span class="p">,</span> <span class="s1">'x'</span><span class="p">:</span><span class="mi">81</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span> <span class="s1">'n'</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="s1">'fixedParams'</span><span class="p">:[</span><span class="s1">'n'</span><span class="p">,</span> <span class="s1">'PA'</span><span class="p">,</span> <span class="s1">'bOvera'</span><span class="p">],</span> <span class="s1">'re'</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'mag'</span><span class="p">:</span><span class="mi">25</span><span class="p">}</span>
</code></pre></div></div>
<p>We do not provide the <code class="samp docutils literal notranslate">'bOvera'</code> and <code class="samp docutils literal notranslate">'PA'</code> values because default values are <code class="samp docutils literal notranslate">bOvera=1</code> and <code class="samp docutils literal notranslate">PA=0</code> which is perfect for this example.</p>
</p></li>
<li><p><strong>noGalfit</strong> (<em>bool</em>) – (<strong>Optional</strong>) whether to not run galfit or not</p></li>
<li><p><strong>noPDF</strong> (<em>bool</em>) – (<strong>Optional</strong>) whether to make the pdf recap files or not</p></li>
<li><p><strong>numThreads</strong> (<em>int</em>) – (<strong>Optional</strong>) number of threads used to parallelise</p></li>
<li><p><strong>outputNames</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – (<strong>Optional</strong>) list of galaxies output .fits files. If not provided, the output files will have the same name as the input ones with _out appended before the .fits extension.</p></li>
<li><p><strong>pathFeedme</strong> (<em>str</em>) – (<strong>Optional</strong>) location of the feedme files relative to the current folder or as an absolute path</p></li>
<li><p><strong>pathIn</strong> (<em>str</em>) – (<strong>Optional</strong>) location of the input files relative to the current folder or as an absolute path</p></li>
<li><p><strong>pathLog</strong> (<em>str</em>) – (<strong>Optional</strong>) location of the log files relative to the current folder or as an absolute path</p></li>
<li><p><strong>pathOut</strong> (<em>str</em>) – (<strong>Optional</strong>) location of the output files relative to the current folder or as an absolute path</p></li>
<li><p><strong>pathRecap</strong> (<em>str</em>) – (<strong>Optional</strong>) location of the pdf recap files relative to the current folder or as an absolute path</p></li>
<li><p><strong>showLog</strong> (<em>bool</em>) – (<strong>Optional</strong>) whether to show log files or not</p></li>
<li><p><strong>showRecapFiles</strong> (<em>bool</em>) – (<strong>Optional</strong>) whether to show the recap files made at the end or not</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>TypeError</strong> – if feedmeFiles is not a list</p>
</dd>
</dl>
</dd></dl>
<dl class="py data code-definition">
<dt class="sig sig-object py" id="galfit.galfit.tags">
<code class="sig-prename descclassname">galfit.galfit.</code><code class="sig-name descname">tags</code><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>['fourier', 'bending', 'boxyness']</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#galfit.galfit.tags">¶</a></dt>
<dd>
<p>Additional tag functions</p>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="galfit.galfit.writeConfigs">
<code class="sig-prename descclassname">galfit.galfit.</code><code class="sig-name descname">writeConfigs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">header</span></em>, <em class="sig-param"><span class="n">listProfiles</span></em>, <em class="sig-param"><span class="n">inputNames</span></em>, <em class="sig-param"><span class="n">outputNames</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">feedmeNames</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">constraintNames</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">constraints</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pathFeedme</span><span class="o">=</span><span class="default_value">'./feedme/'</span></em>, <em class="sig-param"><span class="n">pathIn</span><span class="o">=</span><span class="default_value">'./inputs/'</span></em>, <em class="sig-param"><span class="n">pathOut</span><span class="o">=</span><span class="default_value">'./outputs/'</span></em>, <em class="sig-param"><span class="n">pathConstraints</span><span class="o">=</span><span class="default_value">'./constraints/'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/galfit/galfit.html#writeConfigs"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#galfit.galfit.writeConfigs">¶</a></dt>
<dd>
<p><em>Code author: Wilfried Mercier - IRAP &lt;<a class="reference external" href="mailto:wilfried.mercier%40irap.omp.eu" rel="nofollow noopener">wilfried<span>.</span>mercier<span>@</span>irap<span>.</span>omp<span>.</span>eu<svg aria-hidden="true" class="external-link-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></svg></a>&gt;</em></p>
<p>Make galfit FEEDME and CONSTRAINT files using the same profiles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>header</strong> (<em>dict</em>) – dictionnary with key names corresponding to input parameter names in genHeader function. <strong>See :py:func:run_galfit for more information</strong>.</p></li>
<li><p><strong>inputNames</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – list of galaxies input .fits files</p></li>
<li><p><strong>listProfiles</strong> (<em>list</em><em>[</em><em>dict</em><em>]</em>) – list of profiles (models). <strong>See :py:func:run_galfit for more information</strong>.</p></li>
<li><p><strong>constraintNames</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – (<strong>Optional</strong>) list of CONSTRAINT files. If not provided, the constraint files will have the same name as the input ones but with a .constraints extension at the end.</p></li>
<li><p><strong>feedmeNames</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – (<strong>Optional</strong>) list of FEEDME files. If not provided, the feedme files will have the same name as the input ones but with .feedme extensions at the end.</p></li>
<li><p><strong>outputNames</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – (<strong>Optional</strong>) list of galaxies output .fits files. If not provided, the output files will have the same name as the input ones with _out appended before the .fits extension.</p></li>
<li><p><strong>pathFeedme</strong> (<em>str</em>) – (<strong>Optional</strong>) location of the feedme files relative to the current folder or as an absolute path</p></li>
<li><p><strong>pathIn</strong> (<em>str</em>) – (<strong>Optional</strong>) location of the input files relative to the current folder or as an absolute path</p></li>
<li><p><strong>pathOut</strong> (<em>str</em>) – (<strong>Optional</strong>) location of the output files relative to the current folder or as an absolute path</p></li>
<li><p><strong>constraints</strong> (<em>dict</em>) – (<strong>Optional</strong>) list of dictionaries used to generate the constraints. If None, no constraints are applied. <strong>See :py:func:run_galfit for more information</strong>.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – if inputNames, outputName, feedmeNames and constraintNames are not iterables of the same length</p></li>
<li><p><strong>OSError</strong> – if pathIn, pathOut, pathFeedme or pathConstraints are not correct path</p></li>
</ul>
</dd>
</dl>
</dd></dl>
</section>
</article>
<footer>
<div class="mt-20 mb-4 text-sm text-gray-700">© 2022, Wilfried Mercier Made with <a href="https://www.sphinx-doc.org">Sphinx 4.4.0</a></div>
</footer></main>
<button class="fixed bottom-0 right-0 z-20 opacity-0 p-4 m-4 tracking-wide bg-gray-900 text-gray-100 transition transform transform-gpu duration-500 translate-y-full" data-action="search#hideSnackbar" data-search-target="snackbar">
  Clear highlights
</button><div class="fixed hidden inset-0 bg-black bg-opacity-50" data-action="click-&gt;sidebar#close" data-sidebar-target="screen">
</div>
</div>
<script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
<script src="../_static/jquery.js"></script>
<script src="../_static/underscore.js"></script>
<script src="../_static/doctools.js"></script>
<script src="../_static/clipboard.min.js"></script>
<script src="../_static/copybutton.js"></script>
<script src="../_static/theme.3666d2347a4c66e5d7a8.js"></script>
</body>
</html>